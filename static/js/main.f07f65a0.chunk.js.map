{"version":3,"sources":["Store.js","Table.js","Form.js","App.js","index.js"],"names":["Store","createStore","state","action","type","concat","object","filter","item","index","TableHeader","TableBody","props","rows","stockData","map","row","symbol","companyName","value","price","displayType","thousandSeparator","prefix","mktCap","bookValuePerShareTTM","onClick","removeStock","Table","Form","initialState","handleChange","event","target","name","setState","submitForm","handleSubmit","componentDidMount","element","current","addEventListener","keyCode","preventDefault","React","createRef","this","ref","htmlFor","className","id","onChange","disabled","Component","App","getState","updateStateFromStore","dispatch","stock","fetch","toUpperCase","then","result","status","toast","json","keyMetricsResult","fetchStockData","handleUpdate","stocks","forEach","unsubscribeStore","subscribe","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f07f65a0.chunk.js","sourcesContent":["import { createStore } from 'redux'\n\nfunction stocks(state = [], action) {\n\n    if (action.type === 'ADD_STOCK') {\n        return state.concat([action.object]);\n\n    } else if (action.type === 'REMOVE_STOCK') {\n        return state.filter((item, index) => {\n            return index !== action.index;\n        });\n        \n    } else if (action.type === 'CLEAR_STOCKS') {\n        return [];\n    }\n    else {\n        return state;\n    }\n    \n};\n\nconst Store = createStore(stocks);\n\nexport default Store;","import React from 'react';\nimport NumberFormat from 'react-number-format';\n\nconst TableHeader = () => {\n    return (\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th>Ticker Symbol</th>\n\t\t\t\t<th>Name</th>\n\t\t\t\t<th>Current Price</th>\n\t\t\t\t<th>Market Cap</th>\n\t\t\t\t<th>Book Value Trailing 12 Months</th>\n\t\t\t\t<th>Remove</th>\n\t\t\t</tr>\n\t\t</thead>\n    );\n};\n\nconst TableBody = (props) => {\n\tconst rows = props.stockData.map((row, index) => {\n\t\treturn (\n\t\t<tr key={index}>\n\t\t\t<td>{row.symbol}</td>\n\t\t\t<td>{row.companyName}</td>\n\t\t\t<td>\n\t\t\t\t<NumberFormat value={row.price} displayType={'text'} thousandSeparator={true} prefix={'$'} />\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<NumberFormat value={row.mktCap} displayType={'text'} thousandSeparator={true} prefix={'$'} />\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<NumberFormat value={row.bookValuePerShareTTM} displayType={'text'} thousandSeparator={true} prefix={'$'} />\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<button onClick={() => props.removeStock(index)}>Delete</button>\n\t\t\t</td>\n\t\t</tr>\n\t\t);\n\t});\n  \treturn <tbody>{rows}</tbody>;\n};\n\nconst Table = (props) => {\n    const {stockData, removeStock} = props;\n\treturn (\n\t\t<table>\n\t\t\t<TableHeader />\n\t\t\t<TableBody stockData={stockData} removeStock={removeStock} />\n\t\t</table>\n\t);\n};\n\nexport default Table;","import React, {Component} from 'react';\n\nclass Form extends Component {\n\n\tinitialState = {\n\t\tsymbol: ''\n\t};\n  \tstate = this.initialState;\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.element = React.createRef();\n\t};\n\n\thandleChange = (event) => {\n\t\tconst {name, value} = event.target;\n\t\t// set the state to the form value\n\t\tthis.setState({\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tsubmitForm = () => {\n\t\tthis.props.handleSubmit(this.state);\n\t\t// clear the state\n\t\tthis.setState(this.initialState);\n\t};\n\tcomponentDidMount = () => {\n\t\t// listening and intervening on return/enter press because by default form will POST and reload page\n\t\tthis.element.current.addEventListener('keypress', (event) => {\n\t\t\tif (event.keyCode === 13) {\n\t\t\t\tevent.preventDefault();\n\t\t\t  \tthis.submitForm();\n\t\t\t  \treturn false;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {symbol} = this.state;\n\t\treturn (\n\t\t\t<form ref={this.element}>\n\t\t\t\t<label htmlFor=\"name\">Enter a Ticker Symbol</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"symbol-form\"\n\t\t\t\t\tname=\"symbol\"\n\t\t\t\t\tid=\"symbol\"\n\t\t\t\t\tvalue={symbol}\n\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t<input type=\"button\" value=\"Submit\" onClick={this.submitForm} disabled={!this.state.symbol} />\n\t\t\t</form>\n\t\t);\n  \t};\n};\nexport default Form;\n","import React, {Component} from 'react';\nimport Store from './Store';\nimport Table from './Table';\nimport Form from './Form';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n\n\tstate = Store.getState();\n\n\tupdateStateFromStore = () => {\n\t\tthis.setState(Store.getState())\n\t};\n\n  \tcomponentDidMount() {\n    \tthis.unsubscribeStore = Store.subscribe(this.updateStateFromStore);\n  \t}\n\n  \tcomponentWillUnmount() {\n    \tthis.unsubscribeStore();\n  \t}\n\n\tremoveStock = (index) => {\n\t\tStore.dispatch({ type: 'REMOVE_STOCK', index: index });\n\t};\n\n\thandleSubmit = (stock) => {\n\t\tconst fetchStockData = (stock) => {\n\t\t\tfetch('https://financialmodelingprep.com/api/v3/profile/' + stock.symbol.toUpperCase() + '?apikey=ea4063dd504a48c85e6a945bf8918972')\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (result.status > 299) {\n\t\t\t\t\t\ttoast(\"API error \" + result.status);\n\t\t\t\t\t}\n\t\t\t\t\treturn result.json();\n\t\t\t\t})\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (result[0]) {\n\t\t\t\t\t\tfetch('https://financialmodelingprep.com/api/v3/key-metrics-ttm/' + stock.symbol.toUpperCase() + '?apikey=ea4063dd504a48c85e6a945bf8918972')\n\t\t\t\t\t\t.then((keyMetricsResult) => keyMetricsResult.json())\n\t\t\t\t\t\t.then((keyMetricsResult) => {\n\t\t\t\t\t\t\tresult = {...result[0], ...keyMetricsResult[0]};\n\t\t\t\t\t\t\tStore.dispatch({ type: 'ADD_STOCK', object: result });\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoast(\"Symbol \" + stock.symbol.toUpperCase() + \" not found\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t};\n\t\tfetchStockData(stock);\n\t};\n\n\thandleUpdate = () => {\n\t\tlet stocks = Store.getState();\n\t\tStore.dispatch({ type: 'CLEAR_STOCKS' });\n\t\tstocks.forEach((stock, index) => {\n\t\t\tthis.handleSubmit(stock);\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Form handleSubmit={this.handleSubmit}/>\n\t\t\t<Table stockData={Store.getState()} removeStock={this.removeStock} />\n\t\t\t<input type=\"button\" value=\"Update\" onClick={this.handleUpdate} />\n\t\t\t<ToastContainer />\n\t\t</div>\n\t\t);\n\t};\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n// Render a `<Provider>` around the entire `<App>`,\n// and pass the Redux store to as a prop\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}