(this["webpackJsonpreact-tutorial"]=this["webpackJsonpreact-tutorial"]||[]).push([[0],{19:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(2),i=n.n(r),o=(n(19),n(10)),s=n(4),l=n(5),u=n(7),b=n(6),j=n(13);var h=Object(j.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return"ADD_STOCK"===e.type?t.concat([e.object]):"REMOVE_STOCK"===e.type?t.filter((function(t,n){return n!==e.index})):"CLEAR_STOCKS"===e.type?[]:t})),d=n(8),p=n(1),m=function(){return Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Ticker Symbol"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Current Price"}),Object(p.jsx)("th",{children:"Market Cap"}),Object(p.jsx)("th",{children:"Book Value Trailing 12 Months"}),Object(p.jsx)("th",{children:"Remove"})]})})},O=function(t){var e=t.stockData.map((function(e,n){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.symbol}),Object(p.jsx)("td",{children:e.companyName}),Object(p.jsx)("td",{children:Object(p.jsx)(d.a,{value:e.price,displayType:"text",thousandSeparator:!0,prefix:"$"})}),Object(p.jsx)("td",{children:Object(p.jsx)(d.a,{value:e.mktCap,displayType:"text",thousandSeparator:!0,prefix:"$"})}),Object(p.jsx)("td",{children:Object(p.jsx)(d.a,{value:e.bookValuePerShareTTM,displayType:"text",thousandSeparator:!0,prefix:"$"})}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{onClick:function(){return t.removeStock(n)},children:"Delete"})})]},n)}));return Object(p.jsx)("tbody",{children:e})},f=function(t){var e=t.stockData,n=t.removeStock;return Object(p.jsxs)("table",{children:[Object(p.jsx)(m,{}),Object(p.jsx)(O,{stockData:e,removeStock:n})]})},S=n(3),x=function(t){Object(u.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).initialState={symbol:""},t.state=t.initialState,t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(S.a)({},a,c))},t.submitForm=function(){t.props.handleSubmit(t.state),t.setState(t.initialState)},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state.symbol;return Object(p.jsxs)("form",{children:[Object(p.jsx)("label",{htmlFor:"name",children:"Enter a Ticker Symbol"}),Object(p.jsx)("input",{type:"text",name:"symbol",id:"symbol",value:t,onChange:this.handleChange}),Object(p.jsx)("input",{type:"button",value:"Submit",onClick:this.submitForm,disabled:!this.state.symbol})]})}}]),n}(a.Component),y=n(12),v=(n(23),function(t){Object(u.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state=h.getState(),t.updateStateFromStore=function(){t.setState(h.getState())},t.removeStock=function(t){h.dispatch({type:"REMOVE_STOCK",index:t})},t.handleSubmit=function(t){!function(t){fetch("https://financialmodelingprep.com/api/v3/profile/"+t.symbol.toUpperCase()+"?apikey=ea4063dd504a48c85e6a945bf8918972").then((function(t){return t.json()})).then((function(e){e[0]?fetch("https://financialmodelingprep.com/api/v3/key-metrics-ttm/"+t.symbol.toUpperCase()+"?apikey=ea4063dd504a48c85e6a945bf8918972").then((function(t){return t.json()})).then((function(t){e=Object(o.a)(Object(o.a)({},e[0]),t[0]),h.dispatch({type:"ADD_STOCK",object:e})})):Object(y.b)("Symbol "+t.symbol.toUpperCase()+" not found")}))}(t)},t.handleUpdate=function(){var e=h.getState();h.dispatch({type:"CLEAR_STOCKS"}),e.forEach((function(e,n){t.handleSubmit(e)}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribeStore=h.subscribe(this.updateStateFromStore)}},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(x,{handleSubmit:this.handleSubmit}),Object(p.jsx)(f,{stockData:h.getState(),removeStock:this.removeStock}),Object(p.jsx)("input",{type:"button",value:"Update",onClick:this.handleUpdate}),Object(p.jsx)(y.a,{})]})}}]),n}(a.Component));i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.1604ec27.chunk.js.map